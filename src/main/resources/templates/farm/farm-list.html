<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">
</head>
<body th:replace="~{layout::layout}">
<div th:fragment="content">
    <h1>텃밭 목록</h1>
    <!-- 텃밭 이름(name) 또는 주소(address)로 검색 -->
    <form method="get" th:action="@{/admin/farms/search}">
        <table>
            <tr>
                <td><select name="searchType">
                    <option value="name">name</option>
                    <option value="address">address</option>
                </select></td>
                <td><input type="text" name="keyword"></td>
                <td><input type="submit" value="search"></td>
            </tr>
        </table>
    </form>

    <div>
        <a th:href="@{/admin/farms/create}">텃밭 정보 등록</a>
    </div>
    <table>
        <thead>
        <tr>
            <th>farmId</th>
            <th>farmImage</th>
            <th>gardenUniqueId(텃밭 고유번호)</th>
            <th>farmName(텃밭명)</th>
            <th>operator(운영주체)</th>
            <th>lotNumberAddress(주소)</th>
            <th>updatedAt(최종 수정일)</th>
        </tr>
        </thead>
        <tbody>
        <th:block th:each="farm : ${farmList}">
            <tr>
                <td>[[${farm.farmId}]]</td>
                <td>
                    <img th:src="${farm.farmImageUrl}" width="100" height="100" alt="">
                </td>
                <td><a th:href="@{/admin/farms/{farmId}(farmId=${farm.farmId})}">[[${farm.gardenUniqueId}]]</a></td>
                <td><a th:href="@{/admin/farms/{farmId}(farmId=${farm.farmId})}">[[${farm.farmName}]]</a></td>
                <td>[[${farm.operator}]]</td>
                <td>[[${farm.lotNumberAddress}]]</td>
                <td>[[${farm.updatedAt}]]</td>
            </tr>
        </th:block>
        </tbody>
    </table>
</div>
</body>
</html>